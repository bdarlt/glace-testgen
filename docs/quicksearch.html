<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"config.js.html":{"id":"config.js.html","title":"Source: config.js","body":" GlaseJS Namespaces GlaceConfig Modules cligeneratorglobalshelpindexloaderutils Classes StepTest Tutorials Machine learning in tests generatingRelease NotesSteps Description Source: config.js &quot;use strict&quot;; /** * `GlaceJS` tests generator config. * * @namespace GlaceConfig * @prop {object} gen - Generator options. * @prop {string} gen.stepsFile - File path to load steps description. May be * `json` or `yaml` format. * @prop {string} gen.outFile - File path to save generator output (`yaml` format). * If file path doesn't have `yaml` extension it will be added. * @prop {number} gen.stepsUsage - Number of step usage in test case. Overrides * the same value for individual steps. * @prop {string} gen.filter - Chunk of step name in order to choose tests * which contain this step. * @prop {boolean} [gen.namesOnly=false] - Flag to print only step names without * full info. * @prop {number} [gen.stepsUniq=0] - Amount of uniq sequences of steps in * order to filter tests. * @prop {number} [gen.testsLimit=1000000] - Maximum amount of tests. * @prop {number} [gen.stepsLimit] - Maximum amount of steps per test. */ var path = require(&quot;path&quot;); var _ = require(&quot;lodash&quot;); var U = require(&quot;glace-utils&quot;); var config = U.config; var args = config.args; config.gen = U.defVal(config.gen, {}); if (args._.length) { config.gen.stepsFiles = _.clone(args._); } if (args.genStepsFiles) { config.gen.stepsFiles = args.genStepsFiles.split(/ +/g).filter(o =&gt; o); } if (config.gen.stepsFiles) { config.gen.stepsFiles = config.gen.stepsFiles.map(f =&gt; path.resolve(U.cwd, f)); } if (args.genTestsFiles) { config.gen.testsFiles = args.genTestsFiles.split(/ +/g).filter(o =&gt; o); }; if (config.gen.testsFiles) { config.gen.testsFiles = config.gen.testsFiles.map(f =&gt; path.resolve(U.cwd, f)); }; config.gen.use = !!args.genStepsFiles || !!args.genTestsFiles; config.gen.outFile = args.genOutputFile; config.gen.filter = args.genStepsFilter; config.gen.stepsUsage = args.genStepsUsage; config.gen.namesOnly = !!args.genNamesOnly; config.gen.stepsUniq = +(args.genStepsUniq || 0); config.gen.testsMax = +args.genTestsMax; config.gen.testsLimit = +(args.genTestsLimit || 1000000); config.gen.stepsLimit = +(args.genStepsLimit || Infinity); config.gen.testsOnly = !!args.genTestsOnly; config.gen.testsShuffle = !!args.genTestsShuffle; config.gen.trainResult = path.resolve( U.cwd, (args.genTrainResult || &quot;train-result.json&quot;)); if (args.genTrain) { config.gen.train = path.resolve(U.cwd, args.genTrain); } if (args.genLoadTrain) { config.gen.pretrain = path.resolve(U.cwd, args.genLoadTrain); } if (args.genTrainBefore) { config.gen.trainBefore = path.resolve(U.cwd, args.genTrainBefore); } if (config.gen.outFile &amp;&amp; !config.gen.outFile.endsWith(&quot;.yaml&quot;) &amp;&amp; !config.gen.outFile.endsWith(&quot;.yml&quot;)) { config.gen.outFile += &quot;.yml&quot;; }; module.exports = config; × Search results Close "},"pluginHelp.js.html":{"id":"pluginHelp.js.html","title":"Source: pluginHelp.js","body":" GlaseJS Namespaces GlaceConfig Modules cligeneratorglobalshelpindexloaderutils Classes StepTest Tutorials Machine learning in tests generatingRelease NotesSteps Description Source: pluginHelp.js &quot;use strict&quot;; /** * `Glace testgen` plugin help. * * @function */ module.exports = (args, d) =&gt; { return args .options({ &quot;gen-steps-filter &lt;chunk&gt;&quot;: { describe: d(&quot;Chunk of step name to filter tests.&quot;), type: &quot;string&quot;, group: &quot;Test-gen:&quot;, }, &quot;gen-steps-uniq [number]&quot;: { describe: d(&quot;Number of steps in unique sequence to filter tests.&quot;, &quot;Default is unlimited.&quot;), type: &quot;number&quot;, group: &quot;Test-gen:&quot;, }, &quot;gen-tests-max &lt;number&gt;&quot;: { describe: d(&quot;Maximum amount of final tests.&quot;), type: &quot;number&quot;, group: &quot;Test-gen:&quot;, }, &quot;gen-tests-limit [number]&quot;: { describe: d(&quot;Maximum amount of generated tests per iteration.&quot;, &quot;Default is 1000000.&quot;), type: &quot;number&quot;, group: &quot;Test-gen:&quot;, }, &quot;gen-steps-limit [number]&quot;: { describe: d(&quot;Maximum amount of steps per test.&quot;, &quot;Default is unlimited.&quot;), type: &quot;number&quot;, group: &quot;Test-gen:&quot;, }, &quot;gen-names-only&quot;: { describe: d(&quot;Flag to print only step names.&quot;), type: &quot;boolean&quot;, group: &quot;Test-gen:&quot;, }, &quot;gen-steps-usage &lt;number&gt;&quot;: { describe: d(&quot;Number of steps usage in test case.&quot;), type: &quot;number&quot;, group: &quot;Test-gen:&quot;, }, &quot;gen-steps-files &lt;sequence&gt;&quot;: { describe: d(&quot;Space-separated sequence of paths to steps file (yaml or json format).&quot;, &quot;As alternate to specify path to steps file in plugin mode.&quot;), type: &quot;string&quot;, group: &quot;Test-gen:&quot;, }, &quot;gen-tests-files &lt;sequence&gt;&quot;: { describe: d(&quot;Space-separated sequence of paths to files with&quot;, &quot;pregenerated tests (yaml or json format).&quot;), type: &quot;string&quot;, group: &quot;Test-gen:&quot;, }, &quot;gen-tests-only&quot;: { describe: d(&quot;Flag to exclude other found tests and launch&quot;, &quot;only generated tests in plugin mode.&quot;), type: &quot;boolean&quot;, group: &quot;Test-gen:&quot;, }, &quot;gen-tests-shuffle&quot;: { describe: d(&quot;Shuffle tests during generating.&quot;, &quot;Provides more steps sequence randomization,&quot;, &quot;but tests will be different in generating runs.&quot;), type: &quot;boolean&quot;, group: &quot;Test-gen:&quot;, }, &quot;gen-load-train &lt;path&gt;&quot;: { describe: d(&quot;Path to file with pretrained model,&quot;, &quot;which will be loaded before generating.&quot;), type: &quot;string&quot;, group: &quot;Test-gen:&quot;, }, &quot;gen-train-before &lt;path&gt;&quot;: { describe: d(&quot;Path to file with tests for training before generating.&quot;), type: &quot;string&quot;, group: &quot;Test-gen:&quot;, }, }); }; × Search results Close "},"cli.js.html":{"id":"cli.js.html","title":"Source: cli.js","body":" GlaseJS Namespaces GlaceConfig Modules cligeneratorglobalshelpindexloaderutils Classes StepTest Tutorials Machine learning in tests generatingRelease NotesSteps Description Source: cli.js &quot;use strict&quot;; /** * `GlaceJS` tests generator. * * @module */ require(&quot;./help&quot;); var fs = require(&quot;fs&quot;); var U = require(&quot;glace-utils&quot;); var CONF = require(&quot;./config&quot;); var generate = require(&quot;./generator&quot;).generate; var train = require(&quot;./train&quot;); var stream; if (CONF.gen.outFile) { stream = fs.createWriteStream(CONF.gen.outFile, { flags: &quot;w&quot; }); }; /** * Runs tests generator. * * @function */ exports.run = () =&gt; { if (CONF.gen.train) { var model = train(CONF.gen.train); fs.writeFileSync(CONF.gen.trainResult, JSON.stringify(model, null, &quot; &quot;)); return; } var [tests, unusedSteps] = generate({ filter: CONF.gen.filter }); printTests(tests); printUnusedSteps(unusedSteps); }; /** * @ignore * @function * @arg {Step[]} steps */ var printUnusedSteps = steps =&gt; { if (!steps.length) return; console.log(&quot;Unused steps detected!&quot;.red.bold); for (var s of steps) console.log(` - ${s.name}`.red); console.log(); console.log(&quot;Check steps income and outcome definitions&quot;.yellow); process.exit(1); }; /** * @ignore * @function * @arg {Test[]} tests */ var printTests = tests =&gt; { var count = 0; for (var t of tests) { write(`Test case ${++count}:`, &quot;yellow&quot;); for (var s of t.steps) { var name = ` - ${s.name}`; if (CONF.gen.namesOnly) { write(name, &quot;green&quot;); continue; }; if (s.actions.length) name += &quot;:&quot;; write(name, &quot;green&quot;); for (var act of s.actions) { write(` - ${act}`, &quot;blue&quot;); }; if (s.expected.length) { write(&quot; - expected:&quot;, &quot;red&quot;); for (var e of s.expected) { write(` - ${e}`, &quot;magenta&quot;); }; }; }; write(&quot;&quot;); }; }; /** * @ignore * @function * @arg {string} string * @arg {string} color */ var write = (string, color) =&gt; { if (CONF.gen.outFile) { stream.write(string + &quot;\\n&quot;); } else { if (color) string = string[color]; console.log(string); }; }; process.on(&quot;uncaughtException&quot;, U.exit(&quot;Uncaught Exception&quot;)); process.on(&quot;unhandledRejection&quot;, U.exit(&quot;Unhandled Rejection&quot;)); × Search results Close "},"generator.js.html":{"id":"generator.js.html","title":"Source: generator.js","body":" GlaseJS Namespaces GlaceConfig Modules cligeneratorglobalshelpindexloaderutils Classes StepTest Tutorials Machine learning in tests generatingRelease NotesSteps Description Source: generator.js &quot;use strict&quot;; /** * Tests generator. * * @module */ require(&quot;colors&quot;); var _ = require(&quot;lodash&quot;); var prettyms = require(&quot;pretty-ms&quot;); var U = require(&quot;glace-utils&quot;); var CONF = require(&quot;./config&quot;); var loadSteps = require(&quot;./loader&quot;).loadSteps; var Test = require(&quot;./test&quot;); var train = require(&quot;./train&quot;); /** * Generates test cases. * * @function * @arg {object} opts - Options. * @arg {string} [opts.filter] - Chunk of step name to choose tests which * contain this step. * @return {object[]} - List of generated tests and unused steps. */ exports.generate = opts =&gt; { opts = U.defVal(opts, {}); var filter = U.defVal(opts.filter, CONF.gen.filter); var startTime = new Date(); console.log(&quot;Generating tests from steps...&quot;.yellow); if (CONF.gen.pretrain) { Test.pretrain = U.loadJson(CONF.gen.pretrain); } else { if (CONF.gen.trainBefore) { Test.pretrain = train(CONF.gen.trainBefore); }; } var steps = loadSteps(); var tests = generateTests(steps); var unusedSteps = getUnusedSteps(steps, tests); tests = filterTests(tests, filter); if (CONF.gen.testsMax) { tests = tests.slice(0, CONF.gen.testsMax); } console.log(`${tests.length} tests are generated during ${prettyms(new Date() - startTime)}`.yellow); return [tests, unusedSteps]; }; /** * Generates tests. * * @ignore * @function * @arg {Step[]} steps * @return {Test[]} */ var generateTests = steps =&gt; { var tests = [new Test()]; var isStarted = false; while (!isStarted || changes(tests)) { isStarted = true; var tmp = CONF.gen.testsShuffle ? _.shuffle(tests) : tests; tests = []; for (var t of tmp) { var sameTest = true; if (t.steps.length &lt; CONF.gen.stepsLimit) { for (var s of steps) { if (tests.length &gt;= CONF.gen.testsLimit) break; if (!t.mayAdd(s)) continue; var clone = t.clone(); clone.add(s.clone()); tests.push(clone); sameTest = false; }; }; if (tests.length &gt;= CONF.gen.testsLimit) break; if (sameTest) { t.commit(); tests.push(t); }; }; tests.sort((a, b) =&gt; b.weight - a.weight); tests = filterByUniqSteps(tests); }; return tests.filter(t =&gt; !t.incomplete.length); }; /** * Filters tests by unique steps sequence. * * @ignore * @function * @arg {Test[]} tests * @return {Test[]} */ var filterByUniqSteps = tests =&gt; { var stepsUniq = CONF.gen.stepsUniq; if (stepsUniq) { var stepNames = []; var tmp = []; for (var t of tests) { if (t.steps.length &lt;= stepsUniq) { tmp.push(t); continue; }; var isPresent = true; for (var i = 0; i &lt; t.steps.length - stepsUniq + 1; i++) { var sName = &quot;&quot;; for (var j = 0; j &lt; stepsUniq; j++) { sName += &quot; &quot; + t.steps[i+j].name; }; if (!stepNames.includes(sName)) { stepNames.push(sName); isPresent = false; }; }; if (!isPresent) tmp.push(t); }; tests = tmp; }; return tests; }; /** * Gets unused steps * * @ignore * @function * @arg {Step[]} steps * @return {Step[]} */ var getUnusedSteps = (steps, tests) =&gt; { var ss = []; var stepNames = []; for (var t of tests) { for (var s of t.steps) { if (!stepNames.includes(s.name)) { stepNames.push(s.name); }; }; }; for (var step of steps) { if (!stepNames.includes(step.name)) { ss.push(step); }; }; return ss; }; /** * Filters tests * * @ignore * @function * @arg {Test[]} tests * @arg {string} filter * @return {Test[]} */ var filterTests = (tests, filter) =&gt; { if (!filter) return tests; var filtered = []; for (var t of tests) { var isMatched = false; for (var s of t.steps) { if (s.name.includes(filter)) { isMatched = true; break; }; }; if (isMatched) filtered.push(t); }; return filtered; }; /** * Defines whether there are changes in tests or no. * * @ignore * @function * @arg {Test[]} * @return {boolean} */ var changes = tests =&gt; { for (var t of tests) { if (t.isChanged) return true; }; return false; }; × Search results Close "},"globals.js.html":{"id":"globals.js.html","title":"Source: globals.js","body":" GlaseJS Namespaces GlaceConfig Modules cligeneratorglobalshelpindexloaderutils Classes StepTest Tutorials Machine learning in tests generatingRelease NotesSteps Description Source: globals.js &quot;use strict&quot;; /** * `Glace testgen` globals. * * @module */ var path = require(&quot;path&quot;); var CONF = require(&quot;./config&quot;); if (CONF.gen.use) { /* Add module which generates autotests for glace runner */ if (CONF.gen.testsOnly) { CONF.testDirs = [path.resolve(__dirname, &quot;autotests.js&quot;)]; } else { CONF.testDirs.push(path.resolve(__dirname, &quot;autotests.js&quot;)); }; }; × Search results Close "},"help.js.html":{"id":"help.js.html","title":"Source: help.js","body":" GlaseJS Namespaces GlaceConfig Modules cligeneratorglobalshelpindexloaderutils Classes StepTest Tutorials Machine learning in tests generatingRelease NotesSteps Description Source: help.js &quot;use strict&quot;; /** * Help description. * * @module */ require(&quot;colors&quot;); var U = require(&quot;glace-utils&quot;); var help = require(&quot;./pluginHelp&quot;); var d = U.switchColor(); help(U.help(d) .usage(&quot;\\ntest-gen sequence-of-files [options]&quot;.white.bold) .options({ &quot;gen-output-file &lt;path&gt;&quot;: { describe: d(&quot;Path to output file with generated tests (yaml format).&quot;), type: &quot;string&quot;, group: &quot;Test-gen:&quot;, }, &quot;gen-train &lt;path&gt;&quot;: { describe: d(&quot;Path to file with tests for generator training.&quot;), type: &quot;string&quot;, group: &quot;Test-gen:&quot;, }, &quot;gen-train-result [path]&quot;: { describe: d(&quot;Path to file with training result. Default is 'cwd/train-result.json'.&quot;), type: &quot;string&quot;, group: &quot;Test-gen:&quot;, }, }), d).argv; × Search results Close "},"index.js.html":{"id":"index.js.html","title":"Source: index.js","body":" GlaseJS Namespaces GlaceConfig Modules cligeneratorglobalshelpindexloaderutils Classes StepTest Tutorials Machine learning in tests generatingRelease NotesSteps Description Source: index.js &quot;use strict&quot;; /** * Tests generator package. * * @module */ var config, generate, globals, pluginHelp; Object.defineProperties(exports, { /** * @type {GlaceConfig} */ config: { get: function() { config = config || require(&quot;./config&quot;); return config; }, }, generate: { get: function () { generate = generate || require(&quot;./generator&quot;).generate; return generate; }, }, globals: { get: function () { globals = globals || require(&quot;./globals&quot;); return globals; }, }, /** * @type {pluginHelp} */ pluginHelp: { get: function () { pluginHelp = pluginHelp || require(&quot;./pluginHelp&quot;); return pluginHelp; }, }, }); × Search results Close "},"loader.js.html":{"id":"loader.js.html","title":"Source: loader.js","body":" GlaseJS Namespaces GlaceConfig Modules cligeneratorglobalshelpindexloaderutils Classes StepTest Tutorials Machine learning in tests generatingRelease NotesSteps Description Source: loader.js &quot;use strict&quot;; /** * Steps loader. * * @module */ var U = require(&quot;glace-utils&quot;); var CONF = require(&quot;./config&quot;); var Step = require(&quot;./step&quot;); var utils = require(&quot;./utils&quot;); /** * Loads steps from file. * * @function * @arg {string} filePaths - List of file paths. * @return {Step[]} List of steps. */ exports.loadSteps = filePaths =&gt; { filePaths = U.defVal(filePaths, CONF.gen.stepsFiles); if (!filePaths) { throw new U.GlaceError(&quot;Source file(s) with steps are not passed&quot;); } var bucket = []; for (var filePath of filePaths.reverse()) { var data = utils.loadFile(filePath).reverse(); checkData(filePath, data); mergeSteps(bucket, data); } return getSteps(bucket.reverse()); }; var mergeSteps = (ss1, ss2) =&gt; { var s; var names = ss1.map(s =&gt; s.name); for (s of ss2) { if (names.includes(s.name)) continue; ss1.push(s); } }; /** * Checks steps consistency. * * @ignore */ var checkData = (file, data) =&gt; { var dups = utils.getDups(data.map(d =&gt; d.name)); if (dups.length) { throw new Error(`${file} contains duplicated steps: ${dups.join(&quot;, &quot;)}`); } }; /** * Gets steps. * * @ignore * @function * @arg {object[]} data * @return {Step[]} */ var getSteps = data =&gt; { var ss = []; for (var d of data) { ss.push(new Step(d.name, d.weight, d.income, d.outcome, d.usage, d.do, d.expected, d.complete, d.incomplete, d.before, d.after)); }; return ss; }; × Search results Close "},"utils.js.html":{"id":"utils.js.html","title":"Source: utils.js","body":" GlaseJS Namespaces GlaceConfig Modules cligeneratorglobalshelpindexloaderutils Classes StepTest Tutorials Machine learning in tests generatingRelease NotesSteps Description Source: utils.js &quot;use strict&quot;; /** * Generator utils. * * @module */ var fs = require(&quot;fs&quot;); var _ = require(&quot;lodash&quot;); var U = require(&quot;glace-utils&quot;); var yaml = require(&quot;js-yaml&quot;); /** * Defines whether step income is a part of test state. * * @function * @arg {?object} dict - Test case state. * @arg {?object} sub - Step income state. * @return {boolean} `true` if it's a part, `false` otherwise. */ exports.isSub = (dict, sub) =&gt; { var _isSub = (dict, sub) =&gt; { var result; for (var [k, v] of Object.entries(sub)) { var val = dict[k]; if (v === true) v = {}; if (val === true) val = {}; if (!v) v = false; if (!val) val = false; if (_.isObject(v) &amp;&amp; _.isObject(val)) { result = _isSub(val, v); } else { result = val === v; }; if (!result) return false; }; return true; }; if (!_.isObject(dict) || !_.isObject(sub)) { return false; }; return _isSub(dict, sub); }; exports.getDups = arr =&gt; { var dict = {}, dups =[]; for (var a of arr) { if (dict[a]) { if (!dups.includes(a)) dups.push(a); } else { dict[a] = true; } } return dups; }; /** * Loads steps file. * * @ignore * @function * @arg {string} filePath * @return {object[]} */ exports.loadFile = filePath =&gt; { var data; if (filePath.endsWith(&quot;.yml&quot;) || filePath.endsWith(&quot;.yaml&quot;)) { data = yaml.safeLoad(fs.readFileSync(filePath, &quot;utf8&quot;)); } else { data = U.loadJson(filePath); }; return data; }; × Search results Close "},"step.js.html":{"id":"step.js.html","title":"Source: step.js","body":" GlaseJS Namespaces GlaceConfig Modules cligeneratorglobalshelpindexloaderutils Classes StepTest Tutorials Machine learning in tests generatingRelease NotesSteps Description Source: step.js &quot;use strict&quot;; /** * Creates instance of step. * * @class * @name Step * @classdesc Step data. * @arg {string} name - Step name. * @arg {object} income - Income state. * @arg {object} outcome - Outcome state. * @arg {number} [usage=1] - Usage number. * @arg {string[]} [actions=[]] - Step actions. * @arg {string[]} [expected=[]] - Step expectations. * @arg {?string[]} [complete] - List of completenesses. * @arg {?string[]} [incomplete] - List of incompletenesses. * @arg {?string} [before] - Name of step, which should be executed after this. * @arg {?string} [after] - Name of step, which this step should be executed after. * @prop {string} name - Step name. * @prop {object} income - Income state. * @prop {object} outcome - Outcome state. * @prop {number} [usage=1] - Usage number. * @prop {number} [actions=[]] - Step actions. * @prop {string[]} [expected=[]] - Step expectations. * @prop {?string[]} [complete] - List of completenesses. * @prop {?string[]} [incomplete] - List of incompletenesses. * @prop {?string} [before] - Name of step, which should be executed after this. * @prop {?string} [after] - Name of step, which this step should be executed after. */ var _ = require(&quot;lodash&quot;); var Step = function (name, weight, income, outcome, usage, actions, expected, complete, incomplete, before, after) { this.name = name; this.weight = weight || 1; this.income = income; this.outcome = outcome; this.usage = usage || 1; this.actions = actions || []; this.expected = expected || []; this.complete = complete; this.incomplete = incomplete; this.before = before; this.after = after; }; /** * Clones step. * * @method * @return {Step} New instance of step with the same parameters. */ Step.prototype.clone = function () { return new this.constructor(this.name, this.weight, _.cloneDeep(this.income), _.cloneDeep(this.outcome), this.usage, _.clone(this.actions), _.clone(this.expected), _.clone(this.complete), _.clone(this.incomplete), this.before, this.after); }; module.exports = Step; × Search results Close "},"test.js.html":{"id":"test.js.html","title":"Source: test.js","body":" GlaseJS Namespaces GlaceConfig Modules cligeneratorglobalshelpindexloaderutils Classes StepTest Tutorials Machine learning in tests generatingRelease NotesSteps Description Source: test.js &quot;use strict&quot;; /** * Creates instance of test. * * @class * @classdesc Test case data structure which contains its current state and steps. * @name Test * @prop {boolean} [isChanged=false] - Flag whether test case is changed, * for example, after step addition. * @prop {object} [state={}] - Current test case state. * @prop {Step[]} [steps=[]] - Test case steps. * @prop {string[]} [incomplete=[]] - Test case incompletenesses. */ var _ = require(&quot;lodash&quot;); var isSub = require(&quot;./utils&quot;).isSub; var CONF = require(&quot;./config&quot;); var Test = function () { this.isChanged = false; this.state = {}; this.steps = []; this.incomplete = []; this.weight = 0; }; /** * Detects whether it's possible to add step to test case or no. * * @method * @arg {Step} step - Step to check. * @return {boolean} `true` if it's possible, `false` otherwise. */ Test.prototype.mayAdd = function (step) { /* add step if it should after last step in test */ if (this.steps.length &amp;&amp; this.steps[this.steps.length - 1].name === step.after) { return true; }; if (this.steps.length &amp;&amp; this.steps[this.steps.length - 1].before === step.name) { return true; }; /* don't add step if test case is finished */ if (this.state === null &amp;&amp; this.steps.length) return false; /* don't add step if its limit is exhausted */ if (this._amount(step) &gt;= (CONF.gen.stepsUsage || step.usage)) return false; /* if step has completeness it should be matches test incompleteness */ if (step.complete) { var isEqual = true; var i = 0; var incomplete = _.clone(this.incomplete).reverse(); for (var cmpl of step.complete) { var testCmpl = incomplete[i++]; if (cmpl !== testCmpl) { isEqual = false; break; }; }; if (!isEqual) return false; }; return isSub(this.state, step.income || {}); }; /** * Adds step to test case. * * @method * @arg {Step} step - Added step. */ Test.prototype.add = function (step) { this.steps.push(step); this.isChanged = true; /** * Don't merge states, if there were steps before addition and state is * finished. It means, that this step was added explicitly via keywords * `before` or `after`. */ if (this.state === null &amp;&amp; this.steps.length &gt; 1) return; var outcome = step.outcome === undefined ? {} : step.outcome; if (_.isObject(this.state) &amp;&amp; _.isObject(outcome)) { _.merge(this.state, outcome); } else { this.state = outcome; }; if (step.complete) { this.incomplete = this.incomplete.slice(-this.incomplete.length, this.incomplete.length - step.complete.length); }; if (step.incomplete) { this.incomplete = this.incomplete.concat(step.incomplete); }; var weight = step.weight; if (Test.pretrain) { var x = 0; var prevStep = _.nth(this.steps, -2); if (prevStep) x += (Test.pretrain[prevStep.name + &quot; | &quot; + step.name] || 0); var prevPrevStep = _.nth(this.steps, -3); if (prevPrevStep) x += (Test.pretrain[prevPrevStep.name + &quot; | &quot; + prevStep.name + &quot; | &quot; + step.name] || 0); if (x &gt; 0) weight *= (1 + activate(x)); }; this.weight = _.round(this.weight + weight, 3); }; var activate = x =&gt; (Math.exp(x) - Math.exp(-x)) / (Math.exp(x) + Math.exp(-x)); /** * Clones test case. * * @method * @return {Test} New instance of test with the same parameters. */ Test.prototype.clone = function () { var c = new this.constructor(); c.isChanged = this.isChanged; c.state = _.cloneDeep(this.state); c.steps = this.steps.map(s =&gt; s.clone()); c.incomplete = _.clone(this.incomplete); c.weight = this.weight; return c; }; /** * Commits test case and flushes changes state. * * @method */ Test.prototype.commit = function () { this.isChanged = false; }; /** * Calculates number of step usage in test case. * * @method * @arg {Step} step - Step which usage is calculated in test case. * @return {number} Number of step usage. */ Test.prototype._amount = function (step) { return this.steps.filter(s =&gt; s.name === step.name).length; }; module.exports = Test; × Search results Close "},"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" GlaseJS Namespaces GlaceConfig Modules cligeneratorglobalshelpindexloaderutils Classes StepTest Tutorials Machine learning in tests generatingRelease NotesSteps Description Modules Classes Step Test Namespaces GlaceConfig × Search results Close "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" GlaseJS Namespaces GlaceConfig Modules cligeneratorglobalshelpindexloaderutils Classes StepTest Tutorials Machine learning in tests generatingRelease NotesSteps Description Classes Classes Step Test Namespaces GlaceConfig × Search results Close "},"namespaces.list.html":{"id":"namespaces.list.html","title":"Namespaces","body":" GlaseJS Namespaces GlaceConfig Modules cligeneratorglobalshelpindexloaderutils Classes StepTest Tutorials Machine learning in tests generatingRelease NotesSteps Description Namespaces Classes Step Test Namespaces GlaceConfig × Search results Close "},"tutorials.list.html":{"id":"tutorials.list.html","title":"Tutorials","body":" GlaseJS Namespaces GlaceConfig Modules cligeneratorglobalshelpindexloaderutils Classes StepTest Tutorials Machine learning in tests generatingRelease NotesSteps Description Tutorials Classes Step Test Namespaces GlaceConfig × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" GlaseJS Namespaces GlaceConfig Modules cligeneratorglobalshelpindexloaderutils Classes StepTest Tutorials Machine learning in tests generatingRelease NotesSteps Description | Source Code | Release Notes GlaceJS Tests GeneratorAnnotationTests Generator creates manual or automated test scenarios from steps description. Features Tests generating via graph traversal and rules management. Machine learning in tests building via Markov chains based approach. Installationnpm i -g glace-testgenUtility test-gen will be available in console then. Quick Start Create file steps.yml and fill with content: - name: open app income: null outcome: app: true - name: authenticate income: app: true outcome: app: auth: true - name: close app income: app: true outcome: null Launch console and execute command: test-gen /path/to/steps.yml It will generate next scenarios: Test case 1: - open app - authenticate - close app Test case 2: - open app - close app Example of glace-js steps description for autotests generating. Example of glace-proxy steps description for autotests generating. More details about steps description you may find here. Console OptionsUtility usage: test-gen path/to/steps/file [options]Steps file may be .json or .yaml (.yml). Arguments: --config [path], -c - Path to JSON file with CLI arguments. Default is cwd/config.json (if it exists). Log: --stdout-log - Print log messages to stdout. --log [path] - Path to log file. Default is cwd/glace.log. --log-level [level] - Log level. Default is debug. Test-gen: --gen-output-file &lt;path&gt; - Path to output file (yaml format). --gen-steps-filter &lt;chunk&gt; - Chunk of step name to filter tests. --gen-steps-uniq [number] - Number of steps in unique sequence to filter tests. Default is unlimited. --gen-steps-limit [number] - Maximum amount of steps per test. Default is unlimited. --gen-steps-usage &lt;number&gt; - Number of steps usage in test case. --gen-steps-files &lt;sequence&gt; - Space-separated sequence of paths to steps file (yaml or json format). As alternate to specify path to steps file in plugin mode. --gen-tests-limit [number] - Maximum amount of generated tests per iteration. Default is 1000000. --gen-tests-max &lt;number&gt; - Maximum amount of final tests. --gen-tests-files &lt;sequence&gt; - Space-separated sequence of paths to files with pregenerated tests (yaml or json format). --gen-tests-only - Flag to exclude other found tests and launch only generated tests in plugin mode. --gen-tests-shuffle - Shuffle tests during generating. Provides more steps sequence randomization, but tests will be different in generating runs. --gen-train &lt;path&gt; - Load tests from path for training, launch generator in train mode and save result to file. --gen-train-result [path] - Path to file with training result. Default is cwd/train-result.json. --gen-load-train &lt;path&gt; - Path to file with pretrained model, which will be loaded before generating. --gen-train-before &lt;path&gt; - Path to file with tests for training before generating. --gen-names-only - Flag to print only step names. Common: --version - Show version number. -h, --help - Show help. How ToHow to generate tests quicklyIf you have several dozens of steps, tests building with unlimited parameters may require a long time. Use options --gen-steps-uniq, --gen-tests-limit, --gen-steps-limit for efficient optimisation of consumed time. Download example with steps description. Launch command test-gen e2e.steps.yaml --gen-steps-uniq 2 --gen-tests-limit 150 --gen-output-file result Wait for finish Generating tests from steps... 50 tests are generated during 419ms Open file result.yml to see generated tests. How to train generator modelFor training you need a file with test samples in yaml format. Download example with steps description. Generate 10 tests test-gen e2e.steps.yaml --gen-steps-uniq 2 --gen-tests-limit 150 --gen-tests-max 10 --gen-output-file for_train Launch training test-gen --gen-train for_train.yml Wait for finish Training model... Model is trained during 18ms Training result is saved to train-result.json. How to use trained model for generating Train model from example above. Launch command test-gen e2e.steps.yaml --gen-steps-uniq 2 --gen-tests-limit 150 --gen-load-train train-result.json --gen-output-file result Generated tests will be saved to file result.yml. How to train model on fly in generating Prepare test samples for training from example above. Launch command test-gen e2e.steps.yaml --gen-steps-uniq 2 --gen-tests-limit 150 --gen-train-before for_train.yml --gen-output-file result Generated tests will be saved to file result.yml. × Search results Close "},"GlaceConfig.html":{"id":"GlaceConfig.html","title":"Namespace: GlaceConfig","body":" GlaseJS Namespaces GlaceConfig Modules cligeneratorglobalshelpindexloaderutils Classes StepTest Tutorials Machine learning in tests generatingRelease NotesSteps Description Namespace: GlaceConfig GlaceConfig GlaceJS tests generator config. Properties: Name Type Description gen object Generator options. Properties Name Type Argument Default Description stepsFile string File path to load steps description. May be json or yaml format. outFile string File path to save generator output (yaml format). If file path doesn't have yaml extension it will be added. stepsUsage number Number of step usage in test case. Overrides the same value for individual steps. filter string Chunk of step name in order to choose tests which contain this step. namesOnly boolean &lt;optional&gt; false Flag to print only step names without full info. stepsUniq number &lt;optional&gt; 0 Amount of uniq sequences of steps in order to filter tests. testsLimit number &lt;optional&gt; 1000000 Maximum amount of tests. stepsLimit number &lt;optional&gt; Maximum amount of steps per test. Source: config.js, line 3 × Search results Close "},"module-cli.html":{"id":"module-cli.html","title":"Module: cli","body":" GlaseJS Namespaces GlaceConfig Modules cligeneratorglobalshelpindexloaderutils Classes StepTest Tutorials Machine learning in tests generatingRelease NotesSteps Description Module: cli GlaceJS tests generator. Source: cli.js, line 3 Methods &lt;static&gt; run() Runs tests generator. Source: cli.js, line 29 × Search results Close "},"module-generator.html":{"id":"module-generator.html","title":"Module: generator","body":" GlaseJS Namespaces GlaceConfig Modules cligeneratorglobalshelpindexloaderutils Classes StepTest Tutorials Machine learning in tests generatingRelease NotesSteps Description Module: generator Tests generator. Source: generator.js, line 3 Methods &lt;static&gt; generate(opts) Generates test cases. Parameters: Name Type Description opts object Options. Properties Name Type Argument Description filter string &lt;optional&gt; Chunk of step name to choose tests which contain this step. Source: generator.js, line 28 Returns: List of generated tests and unused steps. Type Array.&lt;object&gt; × Search results Close "},"module-globals.html":{"id":"module-globals.html","title":"Module: globals","body":" GlaseJS Namespaces GlaceConfig Modules cligeneratorglobalshelpindexloaderutils Classes StepTest Tutorials Machine learning in tests generatingRelease NotesSteps Description Module: globals Glace testgen globals. Source: globals.js, line 3 × Search results Close "},"module-help.html":{"id":"module-help.html","title":"Module: help","body":" GlaseJS Namespaces GlaceConfig Modules cligeneratorglobalshelpindexloaderutils Classes StepTest Tutorials Machine learning in tests generatingRelease NotesSteps Description Module: help Help description. Source: help.js, line 3 × Search results Close "},"module-index.html":{"id":"module-index.html","title":"Module: index","body":" GlaseJS Namespaces GlaceConfig Modules cligeneratorglobalshelpindexloaderutils Classes StepTest Tutorials Machine learning in tests generatingRelease NotesSteps Description Module: index Tests generator package. Source: index.js, line 3 Members &lt;inner&gt; config :GlaceConfig Type: GlaceConfig Source: index.js, line 15 &lt;inner&gt; pluginHelp :pluginHelp Type: pluginHelp Source: index.js, line 36 × Search results Close "},"module-loader.html":{"id":"module-loader.html","title":"Module: loader","body":" GlaseJS Namespaces GlaceConfig Modules cligeneratorglobalshelpindexloaderutils Classes StepTest Tutorials Machine learning in tests generatingRelease NotesSteps Description Module: loader Steps loader. Source: loader.js, line 3 Methods &lt;static&gt; loadSteps(filePaths) Loads steps from file. Parameters: Name Type Description filePaths string List of file paths. Source: loader.js, line 22 Returns: List of steps. Type Array.&lt;Step&gt; × Search results Close "},"module-utils.html":{"id":"module-utils.html","title":"Module: utils","body":" GlaseJS Namespaces GlaceConfig Modules cligeneratorglobalshelpindexloaderutils Classes StepTest Tutorials Machine learning in tests generatingRelease NotesSteps Description Module: utils Generator utils. Source: utils.js, line 3 Methods &lt;static&gt; isSub(dict, sub) Defines whether step income is a part of test state. Parameters: Name Type Argument Description dict object &lt;nullable&gt; Test case state. sub object &lt;nullable&gt; Step income state. Source: utils.js, line 23 Returns: true if it's a part, false otherwise. Type boolean × Search results Close "},"Step.html":{"id":"Step.html","title":"Class: Step","body":" GlaseJS Namespaces GlaceConfig Modules cligeneratorglobalshelpindexloaderutils Classes StepTest Tutorials Machine learning in tests generatingRelease NotesSteps Description Class: Step Step Step data. new Step(name, income, outcome [, usage] [, actions] [, expected] [, complete] [, incomplete] [, before] [, after]) Creates instance of step. Parameters: Name Type Argument Default Description name string Step name. income object Income state. outcome object Outcome state. usage number &lt;optional&gt; 1 Usage number. actions Array.&lt;string&gt; &lt;optional&gt; [] Step actions. expected Array.&lt;string&gt; &lt;optional&gt; [] Step expectations. complete Array.&lt;string&gt; &lt;optional&gt; &lt;nullable&gt; List of completenesses. incomplete Array.&lt;string&gt; &lt;optional&gt; &lt;nullable&gt; List of incompletenesses. before string &lt;optional&gt; &lt;nullable&gt; Name of step, which should be executed after this. after string &lt;optional&gt; &lt;nullable&gt; Name of step, which this step should be executed after. Properties: Name Type Argument Default Description name string Step name. income object Income state. outcome object Outcome state. usage number &lt;optional&gt; 1 Usage number. actions number &lt;optional&gt; [] Step actions. expected Array.&lt;string&gt; &lt;optional&gt; [] Step expectations. complete Array.&lt;string&gt; &lt;optional&gt; &lt;nullable&gt; List of completenesses. incomplete Array.&lt;string&gt; &lt;optional&gt; &lt;nullable&gt; List of incompletenesses. before string &lt;optional&gt; &lt;nullable&gt; Name of step, which should be executed after this. after string &lt;optional&gt; &lt;nullable&gt; Name of step, which this step should be executed after. Source: step.js, line 3 Methods clone() Clones step. Source: step.js, line 63 Returns: New instance of step with the same parameters. Type Step × Search results Close "},"Test.html":{"id":"Test.html","title":"Class: Test","body":" GlaseJS Namespaces GlaceConfig Modules cligeneratorglobalshelpindexloaderutils Classes StepTest Tutorials Machine learning in tests generatingRelease NotesSteps Description Class: Test Test Test case data structure which contains its current state and steps. new Test() Creates instance of test. Properties: Name Type Argument Default Description isChanged boolean &lt;optional&gt; false Flag whether test case is changed, for example, after step addition. state object &lt;optional&gt; {} Current test case state. steps Array.&lt;Step&gt; &lt;optional&gt; [] Test case steps. incomplete Array.&lt;string&gt; &lt;optional&gt; [] Test case incompletenesses. Source: test.js, line 3 Methods _amount(step) Calculates number of step usage in test case. Parameters: Name Type Description step Step Step which usage is calculated in test case. Source: test.js, line 155 Returns: Number of step usage. Type number add(step) Adds step to test case. Parameters: Name Type Description step Step Added step. Source: test.js, line 79 clone() Clones test case. Source: test.js, line 129 Returns: New instance of test with the same parameters. Type Test commit() Commits test case and flushes changes state. Source: test.js, line 144 mayAdd(step) Detects whether it's possible to add step to test case or no. Parameters: Name Type Description step Step Step to check. Source: test.js, line 36 Returns: true if it's possible, false otherwise. Type boolean × Search results Close "},"tutorial-machine-learning.html":{"id":"tutorial-machine-learning.html","title":"Tutorial: Machine learning in tests generating","body":" GlaseJS Namespaces GlaceConfig Modules cligeneratorglobalshelpindexloaderutils Classes StepTest Tutorials Machine learning in tests generatingRelease NotesSteps Description Machine learning in tests generating The idea to combine machine learning with tests generator was in order to generate tests for new functionality based on choosen tests for existing functionality. For example, let's imagine that: we have tests for existing functionality; we have steps declaration for existing functionality; we add new functionality to get current page; we want to generate new tests using to previous expertise; Let's see how it works. Save steps declaration to file steps.yml (including step get_current_page for new fuctionality): - name: launch_chrome incomplete: - chrome income: chrome: false outcome: chrome: true - name: close_chrome complete: - chrome income: chrome: true outcome: chrome: false - name: restart_chrome income: chrome: true outcome: chrome: true chrome restarted: true - name: launch_global_proxy incomplete: - global proxy income: global proxy: false outcome: global proxy: true - name: stop_global_proxy complete: - global proxy income: global proxy: true outcome: global proxy: false - name: restart_global_proxy income: global proxy: true outcome: global proxy: true - name: launch_http_proxy incomplete: - http proxy income: http proxy: false outcome: http proxy: true - name: stop_http_proxy complete: - http proxy income: http proxy: true outcome: http proxy: false - name: restart_http_proxy income: http proxy: true outcome: http proxy: true - name: open_app income: chrome: true outcome: web page: true - name: open_page income: chrome: true outcome: web page: true - name: open_url income: chrome: true outcome: web page: true - name: get_current_page income: chrome: true chrome restarted: false web page: true Generate tests without training first: test-gen steps.yaml --gen-steps-uniq 4 --gen-steps-limit 6 --gen-steps-filter get_current_page --gen-tests-max 10 --gen-output-file result That's result: Test case 1: - launch_chrome - open_page - open_app - open_url - get_current_page - close_chrome Test case 2: - launch_global_proxy - launch_chrome - open_app - get_current_page - close_chrome - stop_global_proxy Test case 3: - launch_global_proxy - launch_chrome - open_page - get_current_page - close_chrome - stop_global_proxy Test case 4: - launch_global_proxy - launch_chrome - open_url - get_current_page - close_chrome - stop_global_proxy Test case 5: - launch_chrome - launch_global_proxy - stop_global_proxy - open_app - get_current_page - close_chrome Test case 6: - launch_chrome - launch_global_proxy - stop_global_proxy - open_page - get_current_page - close_chrome Test case 7: - launch_chrome - launch_global_proxy - stop_global_proxy - open_url - get_current_page - close_chrome Test case 8: - launch_chrome - launch_global_proxy - open_app - stop_global_proxy - get_current_page - close_chrome Test case 9: - launch_chrome - launch_global_proxy - open_app - get_current_page - stop_global_proxy - close_chrome Test case 10: - launch_chrome - launch_global_proxy - open_page - stop_global_proxy - get_current_page - close_chrome Save tests for existing functionality to file for_training.yml: Test case 1: - launch_chrome - open_page - open_app - restart_chrome - open_url - close_chrome Test case 2: - launch_chrome - open_url - restart_chrome - close_chrome - launch_global_proxy - stop_global_proxy Test case 3: - launch_chrome - open_url - restart_chrome - close_chrome - launch_http_proxy - stop_http_proxy Test case 4: - launch_chrome - open_url - restart_chrome - launch_http_proxy - stop_http_proxy - close_chrome Test case 5: - launch_chrome - open_url - restart_chrome - open_app - open_page - close_chrome Test case 6: - launch_chrome - open_url - restart_chrome - open_page - open_app - close_chrome Test case 7: - launch_global_proxy - launch_chrome - close_chrome - stop_global_proxy - launch_http_proxy - stop_http_proxy Test case 8: - launch_global_proxy - launch_chrome - close_chrome - launch_http_proxy - stop_http_proxy - stop_global_proxy Test case 9: - launch_global_proxy - launch_chrome - restart_global_proxy - restart_chrome - close_chrome - stop_global_proxy Test case 10: - launch_global_proxy - launch_chrome - restart_global_proxy - open_app - close_chrome - stop_global_proxy Test case 11: - launch_global_proxy - launch_chrome - restart_global_proxy - open_page - close_chrome - stop_global_proxy Test case 12: - launch_global_proxy - launch_chrome - restart_global_proxy - open_url - close_chrome - stop_global_proxy Test case 13: - launch_chrome - open_page - launch_http_proxy - open_url - stop_http_proxy - close_chrome Test case 14: - launch_global_proxy - launch_chrome - launch_http_proxy - stop_http_proxy - close_chrome - stop_global_proxy Test case 15: - launch_global_proxy - launch_chrome - open_app - close_chrome - restart_global_proxy - stop_global_proxy Test case 16: - launch_global_proxy - launch_chrome - open_app - restart_chrome - close_chrome - stop_global_proxy Test case 17: - launch_global_proxy - launch_chrome - open_app - restart_global_proxy - close_chrome - stop_global_proxy Test case 18: - launch_global_proxy - launch_chrome - open_app - open_page - close_chrome - stop_global_proxy Test case 19: - launch_global_proxy - launch_chrome - open_app - open_url - close_chrome - stop_global_proxy Test case 20: - launch_global_proxy - launch_chrome - open_page - close_chrome - restart_global_proxy - stop_global_proxy Train generator model (trail-result.json file will be created): test-gen --gen-train for_train.yml Generate tests with trained model and filter tests related with new functionality only: test-gen steps.yaml --gen-steps-uniq 4 --gen-steps-limit 6 --gen-steps-filter get_current_page --gen-tests-max 10 --gen-output-file result --gen-load-train train-result.json Result now is different (and seems more relevant): Test case 1: - launch_global_proxy - launch_chrome - open_app - get_current_page - close_chrome - stop_global_proxy Test case 2: - launch_global_proxy - launch_chrome - open_page - get_current_page - close_chrome - stop_global_proxy Test case 3: - launch_chrome - open_app - get_current_page - close_chrome - launch_global_proxy - stop_global_proxy Test case 4: - launch_chrome - open_url - get_current_page - close_chrome - launch_global_proxy - stop_global_proxy Test case 5: - launch_chrome - open_page - get_current_page - close_chrome - launch_global_proxy - stop_global_proxy Test case 6: - launch_chrome - open_app - open_url - get_current_page - open_page - close_chrome Test case 7: - launch_chrome - open_app - get_current_page - restart_chrome - open_url - close_chrome Test case 8: - launch_chrome - open_page - get_current_page - open_app - open_url - close_chrome Test case 9: - launch_chrome - open_url - get_current_page - open_app - restart_chrome - close_chrome Test case 10: - launch_chrome - open_app - get_current_page - open_url - restart_chrome - close_chrome × Search results Close "},"tutorial-release-notes.html":{"id":"tutorial-release-notes.html","title":"Tutorial: Release Notes","body":" GlaseJS Namespaces GlaceConfig Modules cligeneratorglobalshelpindexloaderutils Classes StepTest Tutorials Machine learning in tests generatingRelease NotesSteps Description Release Notes v1.0.8 Updated training coefficients algo. Fixed tests maximum value. Used optional tests shuffle before generating iteration. v1.0.7 Provided CLI option to restrict amount of final tests. v1.0.6 Train model for generating. Load pretrained model. v1.0.5 Print info about pregenerated tests loading. v1.0.4 Fixed error to load pregenerated tests. v1.0.3 Shuffle tests in generating optionally. v1.0.2 Skip chunk in debug mode too. v1.0.1 Fixed mislogic in steps adding. v1.0.0 Limit generated tests. Support pregenerated tests loading. v0.1.0 Fixed logic typo in generator. v0.0.9 Some fixes and checks in steps files. v0.0.8 Fixed bug with steps file cli option order. v0.0.7 Added proactive filtering for unique steps. v0.0.6 Added project workflow commands. v0.0.5 Fixed bug that testgen was activated always as glace plugin. v0.0.4 Use tests generator as glace plugin. v0.0.3 Fix bug that console utility test-gen wasn't defined. v0.0.2 Added feature to support step actions and expectations in generator v0.0.1 Implemented test-gen utility to generate positive test cases for manual testing. Added filter by step name of generated tests. × Search results Close "},"tutorial-steps-description.html":{"id":"tutorial-steps-description.html","title":"Tutorial: Steps Description","body":" GlaseJS Namespaces GlaceConfig Modules cligeneratorglobalshelpindexloaderutils Classes StepTest Tutorials Machine learning in tests generatingRelease NotesSteps Description Steps Description Step description should be in json or yaml format. For example: [ { &quot;name&quot;: &quot;load game&quot;, &quot;income&quot;: null, &quot;outcome&quot;: { &quot;game&quot;: true } } ] - name: load game income: null outcome: game: true Step description should include fields name, income (system state which should be in order to make step), outcome (affected system state after step making). For example: - name: load game income: null outcome: game: true Step description may include fields do (step actions description), expected (results of step), usage (how many time step will be used in test, default is 1). For example: - name: load game do: - navigate to game url - press button &quot;Enter&quot; expected: - game splash is opened income: null outcome: game: true Use income: null for steps which should be used to start test. For example: - name: &quot;load game&quot; income: null outcome: game: true Use outcome: null for steps which close / shutdown / stop tested application / system. For example: - name: &quot;close game&quot; income: game: true outcome: null Use hierarchy to describe income and outcome step state. For example: - name: &quot;play round&quot; income: game: scene: type: &quot;main&quot; settings: false outcome: game: played: true In income section describe only required state. In outcome section describe only affected state. × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
